<template>
    <div class="skills-component height-100 container">
        <h1>{{ t('skills.title') }}</h1>
        <button @click="mindMapView = !mindMapView" class="button-secondary flex gap-small flex-center">
            <svg class="icon-svg" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" v-if="mindMapView">
                <g mask="url(#mask0_3364_287)">
                    <path
                        d="M9.48633 18.637H20.4863V15.962H9.48633V18.637ZM4.48633 9.31196H7.48633V6.63696H4.48633V9.31196ZM4.48633 13.987H7.48633V11.312H4.48633V13.987ZM4.48633 18.637H7.48633V15.962H4.48633V18.637ZM9.48633 13.987H20.4863V11.312H9.48633V13.987ZM9.48633 9.31196H20.4863V6.63696H9.48633V9.31196ZM4.48633 20.637C3.93633 20.637 3.46549 20.4411 3.07383 20.0495C2.68216 19.6578 2.48633 19.187 2.48633 18.637V6.63696C2.48633 6.08696 2.68216 5.61613 3.07383 5.22446C3.46549 4.8328 3.93633 4.63696 4.48633 4.63696H20.4863C21.0363 4.63696 21.5072 4.8328 21.8988 5.22446C22.2905 5.61613 22.4863 6.08696 22.4863 6.63696V18.637C22.4863 19.187 22.2905 19.6578 21.8988 20.0495C21.5072 20.4411 21.0363 20.637 20.4863 20.637H4.48633Z" />
                </g>
            </svg>
            <svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" v-else>
                <g mask="url(#mask0_3366_293)">
                    <path
                        d="M5.48633 22.637C4.65299 22.637 3.94466 22.3453 3.36133 21.762C2.77799 21.1786 2.48633 20.4703 2.48633 19.637C2.48633 18.987 2.67383 18.4036 3.04883 17.887C3.42383 17.3703 3.90299 17.012 4.48633 16.812V14.637C4.48633 13.8036 4.77799 13.0953 5.36133 12.512C5.94466 11.9286 6.65299 11.637 7.48633 11.637H11.4863V8.46196C10.903 8.26196 10.4238 7.90363 10.0488 7.38696C9.67383 6.8703 9.48633 6.28696 9.48633 5.63696C9.48633 4.80363 9.77799 4.0953 10.3613 3.51196C10.9447 2.92863 11.653 2.63696 12.4863 2.63696C13.3197 2.63696 14.028 2.92863 14.6113 3.51196C15.1947 4.0953 15.4863 4.80363 15.4863 5.63696C15.4863 6.28696 15.2988 6.8703 14.9238 7.38696C14.5488 7.90363 14.0697 8.26196 13.4863 8.46196V11.637H17.4863C18.3197 11.637 19.028 11.9286 19.6113 12.512C20.1947 13.0953 20.4863 13.8036 20.4863 14.637V16.812C21.0697 17.012 21.5488 17.3703 21.9238 17.887C22.2988 18.4036 22.4863 18.987 22.4863 19.637C22.4863 20.4703 22.1947 21.1786 21.6113 21.762C21.028 22.3453 20.3197 22.637 19.4863 22.637C18.653 22.637 17.9447 22.3453 17.3613 21.762C16.778 21.1786 16.4863 20.4703 16.4863 19.637C16.4863 18.987 16.6738 18.4036 17.0488 17.887C17.4238 17.3703 17.903 17.012 18.4863 16.812V14.637C18.4863 14.3536 18.3905 14.1161 18.1988 13.9245C18.0072 13.7328 17.7697 13.637 17.4863 13.637H13.4863V16.812C14.0697 17.012 14.5488 17.3703 14.9238 17.887C15.2988 18.4036 15.4863 18.987 15.4863 19.637C15.4863 20.4703 15.1947 21.1786 14.6113 21.762C14.028 22.3453 13.3197 22.637 12.4863 22.637C11.653 22.637 10.9447 22.3453 10.3613 21.762C9.77799 21.1786 9.48633 20.4703 9.48633 19.637C9.48633 18.987 9.67383 18.4036 10.0488 17.887C10.4238 17.3703 10.903 17.012 11.4863 16.812V13.637H7.48633C7.20299 13.637 6.96549 13.7328 6.77383 13.9245C6.58216 14.1161 6.48633 14.3536 6.48633 14.637V16.812C7.06966 17.012 7.54883 17.3703 7.92383 17.887C8.29883 18.4036 8.48633 18.987 8.48633 19.637C8.48633 20.4703 8.19466 21.1786 7.61133 21.762C7.02799 22.3453 6.31966 22.637 5.48633 22.637ZM5.48633 20.637C5.76966 20.637 6.00716 20.5411 6.19883 20.3495C6.39049 20.1578 6.48633 19.9203 6.48633 19.637C6.48633 19.3536 6.39049 19.1161 6.19883 18.9245C6.00716 18.7328 5.76966 18.637 5.48633 18.637C5.20299 18.637 4.96549 18.7328 4.77383 18.9245C4.58216 19.1161 4.48633 19.3536 4.48633 19.637C4.48633 19.9203 4.58216 20.1578 4.77383 20.3495C4.96549 20.5411 5.20299 20.637 5.48633 20.637ZM12.4863 20.637C12.7697 20.637 13.0072 20.5411 13.1988 20.3495C13.3905 20.1578 13.4863 19.9203 13.4863 19.637C13.4863 19.3536 13.3905 19.1161 13.1988 18.9245C13.0072 18.7328 12.7697 18.637 12.4863 18.637C12.203 18.637 11.9655 18.7328 11.7738 18.9245C11.5822 19.1161 11.4863 19.3536 11.4863 19.637C11.4863 19.9203 11.5822 20.1578 11.7738 20.3495C11.9655 20.5411 12.203 20.637 12.4863 20.637ZM19.4863 20.637C19.7697 20.637 20.0072 20.5411 20.1988 20.3495C20.3905 20.1578 20.4863 19.9203 20.4863 19.637C20.4863 19.3536 20.3905 19.1161 20.1988 18.9245C20.0072 18.7328 19.7697 18.637 19.4863 18.637C19.203 18.637 18.9655 18.7328 18.7738 18.9245C18.5822 19.1161 18.4863 19.3536 18.4863 19.637C18.4863 19.9203 18.5822 20.1578 18.7738 20.3495C18.9655 20.5411 19.203 20.637 19.4863 20.637ZM12.4863 6.63696C12.7697 6.63696 13.0072 6.54113 13.1988 6.34946C13.3905 6.1578 13.4863 5.9203 13.4863 5.63696C13.4863 5.35363 13.3905 5.11613 13.1988 4.92446C13.0072 4.7328 12.7697 4.63696 12.4863 4.63696C12.203 4.63696 11.9655 4.7328 11.7738 4.92446C11.5822 5.11613 11.4863 5.35363 11.4863 5.63696C11.4863 5.9203 11.5822 6.1578 11.7738 6.34946C11.9655 6.54113 12.203 6.63696 12.4863 6.63696Z" />
                </g>
            </svg>

            {{ t(mindMapView ? 'skills.table_view' : 'skills.graph_view') }}
        </button>
        <transition name="fade-scale" mode="out-in">
            <MindMap v-if="mindMapView" :data="skills" key="mindmap" />
            <SkillTable v-else :skills="skills.eduardo" key="table" />
        </transition>
    </div>
</template>
<script lang="ts">
import MindMap from './Components/MindMap.vue';
import SkillTable from './Components/SkillTable.vue';
import { useI18n } from 'vue-i18n';

export default {
    name: 'SkillsComponent',
    components: { MindMap, SkillTable },
    data() {
        return {
            mindMapView: true,
            skills: {
                eduardo: [
                    {
                        name: "AI",
                        fullName: "Artificial Intelligence",
                        child: ["RAG", "ONNX"],
                    },
                    {
                        name: "ML",
                        fullName: "Machine Learning",
                        child: ["Scikit-Learn", "MLflow", "PyTorch"],
                    },
                    {
                        name: "Back-end",
                        fullName: "Backend Development",
                        child: ["FastAPI", "Celery", "Redis"],
                    },
                    {
                        name: "Data",
                        fullName: "Data Management",
                        child: ["Pandas", "Redis", "MongoDB", "PostgreSQL"],
                    },
                ]
            },


        };
    },
    methods: {
        toggleView() {
            this.mindMapView = !this.mindMapView;
        },
        t(key: string) {
            const { t } = useI18n();
            return t(key);
        }
    }
}

</script>
<style>
#Skills {
    min-height: 100vh;
    align-content: center;
}

.fade-scale-enter-active,
.fade-scale-leave-active {
    transition: all 0.4s ease;
}

.fade-scale-enter-from,
.fade-scale-leave-to {
    opacity: 0;
    transform: scale(0.95);
}
</style>